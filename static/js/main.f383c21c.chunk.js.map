{"version":3,"sources":["store/actions.js","firebase.js","components/map/api.js","components/map/config.js","components/tooltip/index.js","components/map/index.js","components/map/layers.js","components/line-graph/tooltip.js","components/line-graph/index.js","components/play-pause/index.js","components/subtitle.js","components/timeline/index.js","components/opacity-slider/index.js","components/title.js","components/help/index.js","pages/home.js","App.js","serviceWorker.js","store/initialState.js","store/index.js","store/reducer.js","index.js"],"names":["updateSelectedMap","data","type","db","require","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","Api","dispatch","useDispatch","useEffect","collection","orderBy","get","then","querySnapshot","docs","map","doc","updateMaps","updatePopulation","fetch","res","json","JSON","parse","files","content","VENICE_VIEW_STATE","latitude","longitude","zoom","minZoom","pitch","bearing","useStyles","makeStyles","title","color","fontFamily","fontSize","body","Tooltip","hoveredObj","useSelector","state","classes","obj","style","backgroundColor","padding","position","top","y","left","x","Typography","root","properties","name","year","Map","maps","selectedMap","opacity","visible","geojson","onHover","info","object","initialViewState","controller","dragRotate","layers","currentYear","prevUrl","i","tile","urls","j","replace","push","TileLayer","id","maxZoom","tileSize","renderSubLayers","props","bbox","west","south","east","north","BitmapLayer","image","bounds","Object","keys","length","GeoJsonLayer","pickable","getFillColor","d","getLineColor","getLineWidth","lineWidthUnits","updateTriggers","getLayers","mapboxApiAccessToken","subtitle","fontWeight","xFormatted","yFormatted","LineGraph","population","point","height","marginBottom","MyResponsiveLine","margin","bottom","right","xScale","min","max","xFormat","yScale","stacked","reverse","tooltip","yFormat","axisTop","enableArea","areaBaselineValue","areaOpacity","lineWidth","axisRight","axisBottom","axisLeft","colors","useMesh","crosshairType","enablePoints","pointSize","pointBorderWidth","pointColor","pointBorderColor","enableGridX","enableGridY","StyledIconButton","withStyles","borderRadius","width","IconButton","PlayPause","playing","years","index","findIndex","timeout","setTimeout","clearTimeout","onClick","StyledTitle","Subtitle","text","TimelineSlider","track","rail","markLabel","mark","marginTop","Slider","Timeline","minYear","Math","maxYear","marks","value","label","marginLeft","marginRight","display","flexDirection","alignItems","justifyContent","alignSelf","onChange","e","valueLabelFormat","valueLabelDisplay","step","StyledOpacitySlider","OpacitySlider","round","getAriaValueText","aria-labelledby","StyledCreator","Title","curMap","find","el","window","open","source","border","cursor","creator","origin","Help","Home","controlsVisible","useState","helpVisible","setHelpVisible","onKeyDown","nativeEvent","key","onKeyUp","onKeyPress","App","className","Boolean","location","hostname","match","initialState","reduxDevTools","__REDUX_DEVTOOLS_EXTENSION__","store","createStore","action","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.f383c21c.chunk.js","sourcesContent":["export const UPDATE_MAPS = \"UPDATE_MAPS\";\nexport function updateMaps(data) {\n  return { type: UPDATE_MAPS, data };\n}\n\nexport const UPDATE_POPULATION = \"UPDATE_POPULATION\";\nexport function updatePopulation(data) {\n  return { type: UPDATE_POPULATION, data };\n}\n\nexport const UPDATE_SELECTED_MAP = \"UPDATE_SELECTED_MAP\";\nexport function updateSelectedMap(data) {\n  return { type: UPDATE_SELECTED_MAP, data };\n}\n\nexport const UPDATE_OPACITY = \"UPDATE_OPACITY\";\nexport function updateOpacity(data) {\n  return { type: UPDATE_OPACITY, data };\n}\n\nexport const TOGGLE_VISIBLE = \"TOGGLE_VISIBLE\";\nexport function toggleVisible() {\n  return { type: TOGGLE_VISIBLE };\n}\n\nexport const UPDATE_GEOJSON = \"UPDATE_GEOJSON\";\nexport function updateGeojson(data) {\n  return { type: UPDATE_GEOJSON, data };\n}\n\nexport const UPDATE_HOVERED_OBJ = \"UPDATE_HOVERED_OBJ\";\nexport function updateHoveredObj(data) {\n  return { type: UPDATE_HOVERED_OBJ, data };\n}\n\nexport const TOGGLE_PLAYING = \"TOGGLE_PLAYING\";\nexport function togglePlaying() {\n  return { type: TOGGLE_PLAYING };\n}\n\nexport const TOGGLE_CONTROLS_VISIBLE = \"TOGGLE_CONTROLS_VISIBLE\";\nexport function toggleControlsVisible() {\n  return { type: TOGGLE_CONTROLS_VISIBLE };\n}\n","import \"firebase/firestore\";\n\nconst firebase = require(\"firebase/app\");\n\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  authDomain: \"maps-of-venice.firebaseapp.com\",\n  databaseURL: \"https://maps-of-venice.firebaseio.com\",\n  projectId: \"maps-of-venice\",\n  storageBucket: \"maps-of-venice.appspot.com\",\n  messagingSenderId: \"1004145915620\",\n  appId: \"1:1004145915620:web:bb706ab87a353cf8eb5ef1\",\n  measurementId: \"G-CYE960RYD9\",\n};\n\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\n\nconst db = firebaseApp.firestore();\n\nexport { db };\n","import { useEffect } from \"react\";\nimport { useDispatch } from \"react-redux\";\n\nimport {\n  updateMaps,\n  updatePopulation,\n  updateGeojson,\n} from \"../../store/actions\";\nimport { db } from \"../../firebase\";\n\nexport default function Api() {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    db.collection(\"maps\")\n      .orderBy(\"year\")\n      .get()\n      .then((querySnapshot) => {\n        const data = querySnapshot.docs.map((doc) => doc.data());\n        dispatch(updateMaps(data));\n      });\n\n    db.collection(\"population\")\n      .orderBy(\"year\")\n      .get()\n      .then((querySnapshot) => {\n        const data = querySnapshot.docs.map((doc) => doc.data());\n        dispatch(updatePopulation(data));\n      });\n\n    fetch(\"https://api.github.com/gists/aa98d983dc8392db28e710e1c888033f\")\n      .then((res) => res.json())\n      .then((res) =>\n        dispatch(updateGeojson(JSON.parse(res.files[\"map.geojson\"].content)))\n      );\n  }, [dispatch]);\n\n  return null;\n}\n","export const MAPBOX_TOKEN = process.env.REACT_APP_MAPBOX_TOKEN;\n\nexport const VENICE_VIEW_STATE = {\n  latitude: 45.437545,\n  longitude: 12.333794,\n  zoom: 13,\n  minZoom: 10,\n  pitch: 0,\n  bearing: 0,\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n  title: {\n    color: \"#FFFFFF\",\n    fontFamily: \"Avenir\",\n    fontSize: 12,\n  },\n  body: {\n    color: \"#FFFFFF\",\n    fontFamily: \"Avenir\",\n    fontSize: 10,\n  },\n});\n\nexport default function Tooltip() {\n  const { hoveredObj } = useSelector((state) => state);\n\n  const classes = useStyles();\n\n  return (\n    <>\n      {hoveredObj.obj && (\n        <div\n          style={{\n            backgroundColor: \"rgba(46, 46, 46, 0.8)\",\n            padding: 8,\n            position: \"absolute\",\n            top: hoveredObj.y,\n            left: hoveredObj.x,\n          }}\n        >\n          <Typography classes={{ root: classes.title }}>\n            {hoveredObj.obj.properties.name} ({hoveredObj.obj.properties.year})\n          </Typography>\n        </div>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\nimport DeckGL from \"@deck.gl/react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { updateHoveredObj } from \"../../store/actions\";\nimport { StaticMap } from \"react-map-gl\";\nimport Api from \"./api\";\nimport getLayers from \"./layers\";\nimport { MAPBOX_TOKEN, VENICE_VIEW_STATE } from \"./config\";\nimport Tooltip from \"../tooltip\";\n\nexport default function Map() {\n  const dispatch = useDispatch();\n  const { maps, selectedMap, opacity, visible, geojson } = useSelector(\n    (state) => state\n  );\n\n  const onHover = (info) => {\n    const { x, y, object } = info;\n    if (!object || object.properties.year <= selectedMap) {\n      dispatch(\n        updateHoveredObj({\n          x,\n          y,\n          obj: object,\n        })\n      );\n    }\n  };\n\n  const _getLayers = () => {\n    return getLayers({\n      data: maps,\n      currentYear: selectedMap,\n      opacity,\n      visible,\n      geojson,\n      onHover,\n    });\n  };\n\n  return (\n    <div>\n      <DeckGL\n        initialViewState={VENICE_VIEW_STATE}\n        controller={{\n          dragRotate: false,\n        }}\n        layers={_getLayers()}\n      >\n        <StaticMap mapboxApiAccessToken={MAPBOX_TOKEN} />\n        <Tooltip />\n      </DeckGL>\n      <Api />\n    </div>\n  );\n}\n","import { TileLayer } from \"@deck.gl/geo-layers\";\nimport { BitmapLayer, GeoJsonLayer } from \"@deck.gl/layers\";\n\nexport default function getLayers({\n  data,\n  currentYear,\n  opacity,\n  visible,\n  geojson,\n  onHover,\n}) {\n  const layers = [];\n\n  for (var i in data) {\n    const prevUrl = data[i].tile;\n    const urls = [0, 1, 2, 3].map((j) => {\n      return prevUrl.replace(\n        \"https://maps.georeferencer.com/georeferences/\",\n        `https://maps-${j}.georeferencer.com//georeferences/`\n      );\n    });\n\n    layers.push(\n      new TileLayer({\n        id: i,\n        data: urls,\n        visible: visible && data[i].year === currentYear,\n\n        minZoom: 0,\n        maxZoom: 19,\n        tileSize: 256,\n        opacity,\n\n        renderSubLayers: (props) => {\n          const {\n            bbox: { west, south, east, north },\n          } = props.tile;\n\n          return new BitmapLayer(props, {\n            data: null,\n            image: props.data,\n            bounds: [west, south, east, north],\n            opacity,\n          });\n        },\n      })\n    );\n  }\n\n  Object.keys(geojson).length > 0 &&\n    layers.push(\n      new GeoJsonLayer({\n        id: \"geojson\",\n        data: geojson,\n        pickable: true,\n        getFillColor: (d) =>\n          d.properties.year <= currentYear ? [255, 255, 0, 50] : [0, 0, 0, 0],\n        getLineColor: [255, 255, 0, 100],\n        getLineWidth: (d) => (d.properties.year <= currentYear ? 2 : 0),\n        lineWidthUnits: \"pixels\",\n        onHover,\n        updateTriggers: {\n          getLineWidth: currentYear,\n          getFillColor: currentYear,\n        },\n      })\n    );\n\n  return layers;\n}\n","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n  subtitle: {\n    color: \"#FFFFFF\",\n    fontFamily: \"Avenir\",\n    fontSize: 14,\n  },\n  title: {\n    color: \"#FFFFFF\",\n    fontFamily: \"Avenir\",\n    fontSize: 14,\n    fontWeight: \"Bold\",\n  },\n});\n\nexport default function Tooltip(props) {\n  const classes = useStyles();\n\n  const { xFormatted, yFormatted } = props;\n\n  return (\n    <div\n      style={{\n        backgroundColor: \"rgba(46, 46, 46, 0.8)\",\n        padding: 8,\n      }}\n    >\n      <Typography classes={{ root: classes.title }}>{xFormatted}</Typography>\n      <Typography classes={{ root: classes.subtitle }}>\n        Population: {yFormatted}\n      </Typography>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { ResponsiveLine } from \"@nivo/line\";\nimport Tooltip from \"./tooltip\";\n\nexport default function LineGraph(props) {\n  const { population } = useSelector((state) => state);\n  const data = [\n    {\n      id: \"Population\",\n      data: population.map((point) => ({ x: point.year, y: point.population })),\n    },\n  ];\n\n  return (\n    <div\n      style={{\n        height: 150,\n        marginBottom: -13,\n      }}\n    >\n      <MyResponsiveLine data={data} />\n    </div>\n  );\n}\n\nconst MyResponsiveLine = ({ data }) => (\n  <ResponsiveLine\n    data={data}\n    margin={{ top: 0, bottom: 0, right: 0, left: 0 }}\n    xScale={{ type: \"linear\", min: 1603, max: 1920 }}\n    xFormat=\".0f\"\n    yScale={{\n      type: \"linear\",\n      min: 90000,\n      max: \"auto\",\n      stacked: true,\n      reverse: false,\n    }}\n    tooltip={({ point }) => {\n      const { data } = point;\n      return <Tooltip {...data} />;\n    }}\n    yFormat=\".3s\"\n    axisTop={null}\n    enableArea\n    areaBaselineValue={90000}\n    areaOpacity={0.2}\n    lineWidth={3}\n    axisRight={null}\n    axisBottom={null}\n    axisLeft={null}\n    colors=\"#17bdff\"\n    useMesh={true}\n    crosshairType=\"bottom\"\n    enablePoints={true}\n    pointSize={5}\n    pointBorderWidth={2}\n    pointColor=\"#FFFFFF\"\n    pointBorderColor=\"#17bdff\"\n    enableGridX={false}\n    enableGridY={false}\n  />\n);\n","import React, { useEffect } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport PlayArrowIcon from \"@material-ui/icons/PlayArrowRounded\";\nimport PauseIcon from \"@material-ui/icons/PauseRounded\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { updateSelectedMap, togglePlaying } from \"../../store/actions\";\n\nconst StyledIconButton = withStyles({\n  root: {\n    color: \"#ffffff\",\n    backgroundColor: \"#17bdff\",\n    borderRadius: 5,\n    width: 47,\n    height: 35,\n    \"&:hover\": {\n      backgroundColor: \"#3dc7ff\",\n    },\n  },\n})(IconButton);\n\nexport default function PlayPause() {\n  const dispatch = useDispatch();\n\n  const { maps, selectedMap, playing } = useSelector((state) => state);\n  const years = maps.map((x) => x.year);\n\n  useEffect(() => {\n    const index = years.findIndex((year) => year === selectedMap);\n    if (playing) {\n      const timeout = setTimeout(\n        () => dispatch(updateSelectedMap(years[(index + 1) % years.length])),\n        500\n      );\n      return () => clearTimeout(timeout);\n    }\n  }, [playing, selectedMap, dispatch, years]);\n\n  return (\n    <StyledIconButton\n      onClick={() => {\n        dispatch(togglePlaying());\n      }}\n    >\n      {playing ? <PauseIcon /> : <PlayArrowIcon />}\n    </StyledIconButton>\n  );\n}\n","import React from \"react\";\n\nimport Typography from \"@material-ui/core/Typography\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst StyledTitle = withStyles({\n  root: {\n    fontSize: 16,\n    fontFamily: \"Avenir\",\n    fontWeight: \"bold\",\n  },\n})(Typography);\n\nexport default function Subtitle(props) {\n  const { text, style } = props;\n\n  return (\n    <div\n      style={{\n        // backgroundColor: \"rgb(255, 255, 255, .7)\",\n        // border: \".5px solid grey\",\n        // borderRadius: \"5px\",\n        // padding: \"2px\",\n        // margin: \"5px 0px\",\n        ...style,\n      }}\n    >\n      <StyledTitle>{text}</StyledTitle>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { updateSelectedMap } from \"../../store/actions\";\nimport Slider from \"@material-ui/core/Slider\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport LineGraph from \"../line-graph\";\nimport PlayPause from \"../play-pause\";\nimport Subtitle from \"../subtitle\";\n\nconst TimelineSlider = withStyles({\n  root: {\n    color: \"#17bdff\",\n    height: 4,\n  },\n  track: {\n    height: 3,\n  },\n  rail: {\n    height: 3,\n  },\n  markLabel: {\n    fontSize: 14,\n    fontFamily: \"Avenir\",\n    fontWeight: \"bold\",\n  },\n  mark: {\n    width: 2,\n    height: 7,\n    marginTop: -2,\n  },\n})(Slider);\n\nexport default function Timeline() {\n  const dispatch = useDispatch();\n  const { maps, selectedMap } = useSelector((state) => state);\n\n  const years = maps.map((map) => map.year);\n\n  const minYear = Math.min(...years);\n  const maxYear = Math.max(...years);\n\n  const marks = maps.map((map, i) => ({\n    value: map.year,\n    label:\n      i !== maps.length - 3 &&\n      (i === 0 || i === maps.length - 1 || maps[i - 1].year < map.year - 7)\n        ? map.year\n        : \"\",\n  }));\n\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        bottom: 40,\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        left: 0,\n        right: 0,\n        display: \"flex\",\n        flexDirection: \"row\",\n        alignItems: \"flex-end\",\n        justifyContent: \"center\",\n        width: \"100%\",\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          marginRight: 12,\n          marginBottom: 34,\n        }}\n      >\n        <Subtitle\n          text=\"Population:\"\n          style={{ marginBottom: 47, fontWeight: \"bold\" }}\n        />\n        <PlayPause />\n      </div>\n      <div\n        style={{\n          display: \"flex\",\n          alignSelf: \"center\",\n          flexDirection: \"column\",\n          width: \"80%\",\n          marginRight: \"5%\",\n        }}\n      >\n        <LineGraph />\n        <TimelineSlider\n          value={selectedMap}\n          onChange={(e, value) => dispatch(updateSelectedMap(value))}\n          valueLabelFormat={(value) => value}\n          valueLabelDisplay=\"auto\"\n          min={minYear}\n          max={maxYear}\n          step={null}\n          marks={marks}\n          track=\"normal\"\n        />\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { updateOpacity } from \"../../store/actions\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Slider from \"@material-ui/core/Slider\";\n\nconst StyledOpacitySlider = withStyles({\n  root: {\n    color: \"#17bdff\",\n    height: 4,\n  },\n})(Slider);\n\nexport default function OpacitySlider() {\n  const dispatch = useDispatch();\n  const { opacity } = useSelector((state) => state);\n\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        top: 40,\n        right: 40,\n        display: \"flex\",\n        width: 100,\n        height: 30,\n      }}\n    >\n      <StyledOpacitySlider\n        value={Math.round(opacity * 100)}\n        onChange={(e, value) => dispatch(updateOpacity(value / 100))}\n        getAriaValueText={(value) => value}\n        valueLabelFormat={(value) => value}\n        aria-labelledby=\"slider\"\n        valueLabelDisplay=\"auto\"\n        min={0}\n        max={100}\n        marks\n        track=\"inverted\"\n      />\n    </div>\n  );\n}\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useSelector } from \"react-redux\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst StyledTitle = withStyles({\n  root: {\n    fontSize: 16,\n    fontFamily: \"Avenir\",\n  },\n})(Typography);\n\nconst StyledCreator = withStyles({\n  root: {\n    fontSize: 20,\n    fontFamily: \"Avenir\",\n    fontWeight: \"bold\",\n  },\n})(Typography);\n\nexport default function Title() {\n  const { maps, selectedMap } = useSelector((state) => state);\n  const curMap = maps.find((el) => el.year === selectedMap);\n  return (\n    <>\n      {curMap && (\n        <div\n          onClick={() => window.open(curMap.source, \"_blank\")}\n          style={{\n            position: \"absolute\",\n            top: 30,\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n            left: 0,\n            right: 0,\n            width: \"50%\",\n            backgroundColor: \"rgb(255, 255, 255, .7)\",\n            border: \".5px solid grey\",\n            borderRadius: \"5px\",\n            padding: \"2px\",\n            cursor: \"pointer\",\n          }}\n        >\n          <StyledCreator>\n            {curMap &&\n              `${curMap.creator} (${curMap.origin && `${curMap.origin} `}${\n                curMap.year\n              })`}\n          </StyledCreator>\n          <StyledTitle>{curMap && curMap.title}</StyledTitle>\n        </div>\n      )}\n    </>\n  );\n}\n","import React from \"react\";\n\nimport Typography from \"@material-ui/core/Typography\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst StyledTitle = withStyles({\n  root: {\n    fontSize: 14,\n    fontFamily: \"Avenir\",\n  },\n})(Typography);\n\nexport default function Help(props) {\n  const { visible, text, style } = props;\n\n  return (\n    <>\n      {visible && (\n        <div\n          style={{\n            backgroundColor: \"rgb(255, 255, 255, .7)\",\n            border: \".5px solid grey\",\n            borderRadius: \"5px\",\n            padding: \"2px\",\n            margin: \"5px 0px\",\n            ...style,\n          }}\n        >\n          <StyledTitle>{text}</StyledTitle>\n        </div>\n      )}\n    </>\n  );\n}\n","import React, { useState } from \"react\";\nimport Map from \"../components/map\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Timeline from \"../components/timeline\";\nimport OpacitySlider from \"../components/opacity-slider\";\nimport Title from \"../components/title\";\nimport Help from \"../components/help\";\nimport {\n  toggleVisible,\n  togglePlaying,\n  toggleControlsVisible,\n} from \"../store/actions\";\n\nexport default function Home() {\n  const dispatch = useDispatch();\n  const { visible, controlsVisible, playing } = useSelector((state) => state);\n  const [helpVisible, setHelpVisible] = useState(true);\n  // const [controlsVisibleLocal, setControlsVisibleLocal] = useState(true);\n\n  return (\n    <div\n      onKeyDown={(e) => {\n        if (e.nativeEvent.key === \"Shift\" && visible) {\n          dispatch(toggleVisible());\n          setHelpVisible(false);\n        }\n        if (e.nativeEvent.key === \"Alt\" && controlsVisible) {\n          dispatch(toggleControlsVisible());\n          playing && dispatch(togglePlaying());\n          // setControlsVisibleLocal(false);\n        }\n      }}\n      onKeyUp={(e) => {\n        e.nativeEvent.key === \"Shift\" && !visible && dispatch(toggleVisible());\n        e.nativeEvent.key === \"Alt\" &&\n          !controlsVisible &&\n          dispatch(toggleControlsVisible());\n      }}\n      onKeyPress={(e) => {\n        if (e.key === \" \") {\n          dispatch(togglePlaying());\n        }\n      }}\n    >\n      <Map />\n      {controlsVisible && (\n        <>\n          <Title />\n          <div\n            style={{\n              position: \"absolute\",\n              top: 25,\n              left: 40,\n              width: \"15%\",\n              display: \"flex\",\n              flexDirection: \"column\",\n            }}\n          >\n            <Help\n              visible={helpVisible}\n              text=\"Hold shift to compare with base map\"\n            />\n            {/* <Help\n              visible={controlsVisibleLocal}\n              text=\"Hold Alt/Option to hide details\"\n            /> */}\n          </div>\n          <Timeline />\n          <OpacitySlider />\n        </>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport Home from \"./pages/home\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Home />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const initialState = {\n  maps: [],\n  population: [],\n  selectedMap: 1603,\n  opacity: 1,\n  visible: true,\n  controlsVisible: true,\n  geojson: {},\n  hoveredObj: {},\n  playing: false,\n};\n\nexport default initialState;\n","import { createStore } from \"redux\";\nimport reducer from \"./reducer\";\n\nconst reduxDevTools =\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__();\n\nconst store = createStore(reducer, reduxDevTools);\n\nexport default store;\n","import {\n  UPDATE_MAPS,\n  UPDATE_SELECTED_MAP,\n  UPDATE_OPACITY,\n  UPDATE_POPULATION,\n  TOGGLE_VISIBLE,\n  UPDATE_GEOJSON,\n  UPDATE_HOVERED_OBJ,\n  TOGGLE_PLAYING,\n  TOGGLE_CONTROLS_VISIBLE,\n} from \"./actions\";\nimport initialState from \"./initialState\";\n\nexport default function reducer(state = initialState, action) {\n  switch (action.type) {\n    case UPDATE_MAPS:\n      return { ...state, maps: action.data };\n    case UPDATE_POPULATION:\n      return { ...state, population: action.data };\n    case UPDATE_SELECTED_MAP:\n      return { ...state, selectedMap: action.data };\n    case UPDATE_OPACITY:\n      return { ...state, opacity: action.data };\n    case TOGGLE_VISIBLE:\n      return { ...state, visible: !state.visible };\n    case UPDATE_GEOJSON:\n      return { ...state, geojson: action.data };\n    case UPDATE_HOVERED_OBJ:\n      return { ...state, hoveredObj: action.data };\n    case TOGGLE_PLAYING:\n      return { ...state, playing: !state.playing };\n    case TOGGLE_CONTROLS_VISIBLE:\n      return { ...state, controlsVisible: !state.controlsVisible };\n    default:\n      return state;\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}